<!DOCTYPE html>
<html>
<head>
    <title>Devices Connected</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <%- include('header'); -%>
    <div class="container p-5 w-50">
        <div class="input-group mb-3">
            <input class="form-control" type="text" id="searchInput" onkeyup="searchFolders()" placeholder="Find IDs...">
        </div>    
        <table id="foldersList" class="table">
            <thead>
                <tr>
                    <th>
                        Devices
                    </th>
                </tr>
            </thead>
            <tbody>                
                <% folders.forEach(folder => { %>
                    <tr>
                        <td>
                            <a href="/folder_details/<%= folder %>" class="text-black text-decoration-none" target="_blank"><%= folder %></a>                        
                        </td>
                    </tr>
                <% }); %>            
            </tbody>
            
        </table>
    </div>


    <script>
function searchFolders() {
    let input, filter, table, tr, a, i, txtValue;
    input = document.getElementById('searchInput');
    filter = input.value.toUpperCase();
    table = document.getElementById('foldersList'); 
    tr = table.getElementsByTagName('tr');

    for (i = 0; i < tr.length; i++) { 
        a = tr[i].getElementsByTagName('a')[0];
        if (a) {
            txtValue = a.textContent || a.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = '';
            } else {
                tr[i].style.display = 'none';
            }
        }
    }
}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>
</html>
